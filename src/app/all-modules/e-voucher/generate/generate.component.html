
<div style="padding:30px;">
    <nz-card>
        <span>Generate New E-Vouchers</span><br><br>
        <button nz-button nzType="primary" nzDanger (click)="showModal()">Add New E-Voucher</button>

          <div class="table-responsive">
            <table datatable  id = "datatable" class="table table-striped custom-table mb-0 datatable" [dtOptions]="dtOptions" [dtTrigger]="dtTrigger">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>DATE<br>CREATED</th>
                        <th>SEASON</th>
                        <th>E-VOUCHER CODE</th>
                        <th>INPUT<br>CATEGORY</th>
                        <th>GOV.FUNDING<br>(%)</th>
                        <th>FARMER <br>CONTRIBUTION()%</th>
                        <th>GROSS<br>VALUE</th>
                        <th>REGION</th>
                        <th>VIEW<br>DETAILS</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let row of listGenerated;let i = index">
                        <td>{{row.voucher_id}}</td>
                        <td>{{row.date_Created}}</td>
                        <td>{{row.season}}</td>
                        <td>{{row.ev_code}}</td>
                        <td>{{row.input_category}}</td>
                        <td>{{row.gov_funding}}</td>
                        <td>{{row.farmer_contribution}}</td>
                        <td>{{row.gross_value}}</td>
                        <td>{{row.region}}</td>
                        <td>
                            <button nz-button nzType="primary" [nzSize]="size"><span nz-icon nzType="file-image"></span>View</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </nz-card>
</div>

<nz-modal
[(nzVisible)]="isVisible"
[nzTitle]="modalTitle"
[nzContent]="modalContent"
[nzFooter]="modalFooter"
(nzOnCancel)="handleCancel()"
>
<ng-template #modalTitle>Generate New E-Vouchers</ng-template>
<ng-template #modalContent>
    <form  [formGroup]="generateEV">
        <div class="row">
            <div class="col-sm-6">
                <div class="form-group">
                  <label>E-Voucher ID <span class="text-danger">*</span></label>
                  <input class="form-control" type="text" formControlName="voucher_id">
                </div>
              </div>
              <div class="col-sm-6">
                <div class="form-group">
                  <label>E-Voucher Code <span class="text-danger">*</span></label>
                  <input class="form-control" type="text" formControlName="ev_code">
                </div>
              </div>
              <div class=" col-sm-6">
                <div class="form-group">
                  <label>Date Created</label>
                  <input class="form-control" type="text" formControlName="date_Created">
                </div>
              </div>
          <div class="col-sm-6">
            <div class="form-group">
              <label>Season <span class="text-danger">*</span></label>
              <input class="form-control" type="text" formControlName="season">
            </div>
          </div>
          <div class="col-sm-6">
            <div class="form-group">
              <label>Region <span class="text-danger">*</span></label>
              <input class="form-control" type="text" formControlName="region">
            </div>
          </div>
          <div class=" col-sm-6">
            <div class="form-group">
              <label>Input Category</label>
              <input class="form-control" type="text" formControlName="input_category">
            </div>
          </div>
          <div class=" col-sm-6">
            <div class="form-group">
              <label>Farmer Contribution (UGX)</label>
              <input class="form-control" type="text" formControlName="farmer_contribution">
            </div>
          </div>
          <div class="col-sm-6">
            <div class="form-group">
              <label>GOV. Contribution (UGX) </label>
              <input class="form-control" type="text" formControlName="gov_funding">
            </div>
    
          </div>
          <div class="col-sm-6">
            <div class="form-group">
              <label>Gross Value</label>
              <input class="form-control" type="text" formControlName="gross_value">
            </div>
          </div>
        </div>
      </form>
</ng-template>
<ng-template #modalFooter>
  <button nz-button nzType="default" nzDanger (click)="handleCancel()" style="margin-right: 1em;">Cancel</button>
  <button nz-button nzType="primary" (click)="handleOk()" [nzLoading]="isConfirmLoading" style="margin-right: 11em;">
    Submit
</button>
</ng-template>
</nz-modal>